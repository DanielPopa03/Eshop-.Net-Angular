<div class="mt-10 max-w-4xl mx-auto p-6 bg-[#4A102A] rounded-lg shadow-lg text-white">

  <h2 class="text-3xl font-bold mb-6 text-[#FCF259]">Your Basket</h2>

  <div *ngIf="basket.length > 0; else emptyBasket">

    <ul class="space-y-4">
      <li *ngFor="let item of basket" class="flex items-center justify-between bg-[#85193C] rounded-lg p-4 shadow-md">

        <div class="flex items-center space-x-4">
          <img (click)="redirectToItem(item.id)" [src]="'https://localhost:7060' + item.images[0].imageUrl" alt="{{ item.name }}" class="cursor-pointer w-20 h-20 object-contain rounded border border-[#FCF259]" />
          <div>
            <h3 (click)="redirectToItem(item.id)" class="cursor-pointer font-semibold text-lg">{{ item.name }}</h3>
            <p class="text-[#FCF259] font-semibold">{{ item.price | currency }}</p>

            <!-- Quantity controls -->
            <div class="flex items-center space-x-2 text-sm text-[#E6D945] mt-1">
              <button (click)="decreaseQuantity(item)"
                      class="px-2 py-0.5 bg-[#C5172E] rounded hover:bg-[#85193C] transition font-bold">
                -
              </button>
              <span>Quantity: {{ item.quantity }}</span>
              <button (click)="increaseQuantity(item)"
                      class="px-2 py-0.5 bg-[#C5172E] rounded hover:bg-[#85193C] transition font-bold">
                +
              </button>
            </div>

          </div>
        </div>

        <div class="flex flex-col items-end space-y-2">
          <p class="font-bold text-xl text-[#FCF259]">
            {{ (item.price * item.quantity) | currency }}
          </p>
          <button (click)="removeFromBasket(item.id)"
                  class="px-3 py-1 bg-[#C5172E] hover:bg-[#85193C] rounded text-white font-semibold transition">
            Remove
          </button>
        </div>

      </li>
    </ul>

    <div class="mt-6 flex justify-between items-center border-t border-[#FCF259] pt-4">
      <span class="text-xl font-bold text-[#FCF259]">Total:</span>
      <span class="text-2xl font-extrabold text-[#FCF259]">{{ getTotalPrice() | currency }}</span>
    </div>

    <button (click)="checkout()"
            class="mt-6 w-full bg-[#FCF259] text-[#4A102A] font-bold py-3 rounded hover:bg-[#E6D945] transition">
      Proceed to Checkout
    </button>

  </div>

  <ng-template #emptyBasket>
    <p class="text-center text-[#FCF259] font-semibold text-lg">Your basket is empty.</p>
  </ng-template>

</div>
